<AuthScreen>
    name: 'auth_screen'

    core: app

    MDFloatLayout:

        MDBoxLayout:
            orientation: 'vertical'
            padding: '5dp'
            spacing: 15
            pos_hint: {'center_x': .5, 'y': .35}
            size_hint: .8, .8
            size_hint_max_x: 300

            MDTextField:
                id: email_field
                mode: 'round'
                hint_text: 'email'
                icon_left: 'email'
                color_active: 0, 1, 0, 1
                pos_hint: {'center_x': .5}

            MDRelativeLayout:
                size_hint: 1, None
                height: password_field.height
                pos_hint: {'center_x': .5}

                MDTextField:
                    id: password_field
                    mode: 'round'
                    hint_text: 'Password'
                    icon_left: 'key-variant'
                    color_active: 0, 1, 0, 1
                    password: True

                MDIconButton:
                    icon: "eye-off"
                    pos_hint: {"center_y": .5}
                    pos: password_field.width - self.width, 0
                    theme_text_color: "Hint"
                    on_release:
                        self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                        password_field.password = False if password_field.password is True else True

            MDRoundFlatButton:
                text: 'Sign in'
                font_size: '15sp'
                pos_hint: {'center_x': .5}
                on_release:
                    root.login(email_field.text, password_field.text)

            MDRoundFlatIconButton:
                text: 'Continue with Google'
                icon: 'google'
                font_size: '12sp'
                pos_hint: {'center_x': .5}
                on_release:
                    #app.login_oauth2()
                    #app.login_oauth2()