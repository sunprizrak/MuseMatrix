#:import BuyCoinsScreen screens.buy_coins

<ListItemWithLabel@MDListItem>:
    icon: ''
    text: ''
    method_name: ''
    divider: True

    MDListItemLeadingIcon:
        icon: root.icon

    MDListItemHeadlineText:
        text: root.text

<BuyButton@MDButton>:
    style: 'elevated'
    text: ''
    radius: dp(10)
    theme_width: 'Custom'
    width: dp(150)

    MDButtonText:
        text: self.parent.text
        theme_font_name: 'Custom'
        font_name: 'Hacked'
        theme_font_size: 'Custom'
        font_size: sp(25)
        pos_hint: {'center_x': .5, 'center_y': .5}


<BuyCoinsScreen>
    name: 'buy_coins_screen'

    MDFloatLayout:

        MDTopAppBar:
            type: 'small'
            pos_hint: {'top': 1}
            md_bg_color: self.theme_cls.backgroundColor

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: 'arrow-left-bold'
                    theme_icon_color: 'Custom'
                    icon_color: self.theme_cls.primaryColor
                    ripple_effect: False
                    focus_behavior: False
                    on_release:
                        app.back(screen='main_screen')

            MDTopAppBarTitle:
                text: 'Buy coins'
                theme_font_name: "Custom"
                font_name: 'Hacked'

        MDGridLayout:
            cols: 2
            spacing: dp(10)
            size_hint_x: None
            width: dp(250)
            pos_hint: {'center_x': .5, 'center_y': .5}
            adaptive_height: True

            MDLabel:
                text: '$99.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '20000 coins'
                on_release:
                    root.open_payment_layout(root.PROD_20000)

            MDLabel:
                text: '$24.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '5000 coins'
                on_release:
                    root.open_payment_layout(root.PROD_5000)

            MDLabel:
                text: '$17.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '3600 coins'
                on_release:
                    root.open_payment_layout(root.PROD_3600)

            MDLabel:
                text: '$7.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '1600 coins'
                on_release:
                    root.open_payment_layout(root.PROD_1600)

            MDLabel:
                text: '$4.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '1000 coins'
                on_release:
                    root.open_payment_layout(root.PROD_1000)

            MDLabel:
                text: '$1.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '400  coins'
                on_release:
                    root.open_payment_layout(root.PROD_400)

            MDLabel:
                text: '$0.99'
                theme_font_name: 'Custom'
                font_name: 'Hacked'

            BuyButton:
                text: '200  coins'
                on_release:
                    root.open_payment_layout(root.PROD_200)

    MDBottomSheet:
        id: bottom_sheet
        adaptive_height: True

        MDBottomSheetDragHandle:
            drag_handle_color: app.theme_cls.primaryColor
            padding: dp(5)

        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: dp(200)

            MDLabel:
                text: 'Select Payment Method'
                theme_font_size: 'Custom'
                font_size: sp(16)
                halign: 'center'
                theme_font_name: 'Custom'
                font_name: 'Hacked'
                pos_hint: {'center_x': .5}
                adaptive_size: True
                padding: dp(10)

            MDDivider:
                size_hint_x: .7
                pos_hint: {'center_x': .5}

            MDScrollView:
                do_scroll_x: False
                effect_cls: ScrollEffect

                MDGridLayout:
                    cols: 1
                    adaptive_height: True

                    ListItemWithLabel:
                        icon: "google-play"
                        text: "Google Play"
                        method_name: "gplay"
                        theme_bg_color: 'Custom'
                        md_bg_color: self.parent.md_bg_color
                        on_release:
                            root.initiate_purchase(self.method_name)



