#:import OpenImageScreen screens.open_image
#:import MyCarousel widgets.MyCarousel


<OpenImageScreen>
    name: 'open_img_screen'

    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            id: app_bar
            type: 'small'
            theme_bg_color: 'Custom'
            md_bg_color: self.theme_cls.backgroundColor

            MDTopAppBarLeadingButtonContainer:
                id: left_button

                MDActionTopAppBarButton:
                    icon: 'arrow-left-bold'
                    ripple_effect: False
                    focus_behavior: False
                    on_release:
                        root.back(screen=root.back_screen)

            MDTopAppBarTitle:
                id: app_bar_title
                text: ' '
                theme_font_name: "Custom"
                font_name: 'Hacked'

        MyCarousel:
            id: carousel


        MDFloatLayout:
            size_hint_y: None
            height: self.children[0].height

            MDFabButton:
                icon: 'download'
                style: 'small'
                pos_hint: {'center_x': .1, 'center_y': .5}
                on_release:
                    root.download(carousel.current_slide)


            MDFabButton:
                icon: 'delete'
                style: 'small'
                pos_hint: {'center_x': .9, 'center_y': .5}
                on_release:
                    root.delete(carousel.current_slide.img_id, carousel.current_slide.pre_parent)