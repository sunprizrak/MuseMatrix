#:import CollectionScreen screens

<CollectionScreen>
    name: 'collection_screen'

    MDBoxLayout:
        orientation: 'vertical'

        MyTopAppBar:
            id: collection_app_bar
            type_height: 'small'
            md_bg_color: root.md_bg_color
            left_action_items: [selection_list.back_item]
            right_action_items: [['dots-vertical', lambda x: root.menu_callback(x)]]
            elevation: 0

        MDScrollView:
            effect_cls: ScrollEffect

            MySelectionList:
                screen: root
                toolbar: collection_app_bar

                id: selection_list
                cols: 4
                padding: dp(2)
                spacing: dp(2)
                row_default_height: (self.width - self.cols * self.spacing[0]) / self.cols
                row_force_default: True
                col_default_width: (self.width - (self.cols * self.spacing[0] + self.padding[0])) / self.cols
                col_force_default: True
                on_selected: self.selected(*args)
                on_unselected: self.unselected(*args)
                on_selected_mode: self.set_selection_mode(*args)