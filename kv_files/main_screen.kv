#:import MainScreen screens
#:import ScrollEffect kivy.effects.scroll.ScrollEffect


<MainButton@MDTextButton>
    color: app.theme_cls.primary_color
    font_size: sp(35)


<MainCard@MDCard>:
    md_bg_color: 69/255, 55/255, 86/255, .2
    orientation: 'vertical'
    padding: dp(10)
    spacing: dp(15)
    radius: dp(25)
    ripple_behavior: True
    image: ''
    text: ''

    Image:
        source: root.image
        fit_mode: 'contain'
        mipmap: True

    MDLabel:
        halign: 'center'
        text: root.text
        font_style: 'H6'
        adaptive_height: True


<MainScreen>
    name: 'main_screen'
    md_bg_color: app.theme_cls.bg_light

    core: app

    MDFloatLayout:

        MDBoxLayout:
            orientation: 'vertical'
            md_bg_color: root.md_bg_color if nav_drawer.state == 'close' else app.theme_cls.bg_dark

            MDTopAppBar:
                id: main_top_bar
                type_height: 'small'
                md_bg_color: self.parent.md_bg_color
                left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                elevation: 0

            MDGridLayout:
                cols: 2
                padding: dp(15), dp(15), dp(15), dp(35)
                spacing: dp(15)

                MainCard:
                    image: 'assets/img/picture_icon.png'
                    text: 'Create image'
                    on_release:
                        app.root.transition = MDSwapTransition()
                        app.root.current = 'create_image_screen'

                MainCard:
                    image: 'assets/img/pencil_icon.png'
                    text: 'Edit image'
                    on_release:
                        app.root.transition = MDSwapTransition()
                        app.root.current = 'edit_image_screen'

                MainCard:
                    image: 'assets/img/magic_icon.png'
                    text: 'Variable image'
                    on_release:
                        app.root.transition = MDSwapTransition()
                        app.root.current = 'variable_image_screen'

                MainCard:
                    image: 'assets/img/music_icon.png'
                    text: 'Speech to text'
                    on_release:
                        app.root.transition = MDSwapTransition()
                        app.root.current = 'speech_to_text_screen'

                MainCard:
                    image: 'assets/img/chat_icon.png'
                    text: 'Chat gpt'
                    on_release:
                        app.root.transition = MDSwapTransition()
                        app.root.current = 'chat_gpt_screen'

                MainCard:
                    image: 'assets/img/bulb_icon.png'
                    text: 'reference'


        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)

            MDNavigationDrawerMenu:
                do_scroll_y: False

                MDNavigationDrawerHeader:
                    id: nav_drawer_header
                    title: root.email
                    title_font_size: '17sp'
                    text: str(root.credit) + ' credit'
                    source: root.avatar
                    spacing: dp(15)
                    padding: dp(10), 0, 0, dp(10)

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: "assets/img/settings_icon.png"
                    text: "Settings"
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.open_settings()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    id: collection
                    icon: 'assets/img/picture_icon.png'
                    icon_size: sp(20)
                    text: 'My Collection'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.open_collection()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: 'assets/img/locker_icon.png'
                    text: 'Buy Credits'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.open_buy_credits()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: 'assets/img/money-bag_icon.png'
                    text: 'Earn Credits'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.show_ads()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: 'assets/img/key_icon.png'
                    text: 'Logout'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: 'white'
                    on_release:
                        root.exit()
















