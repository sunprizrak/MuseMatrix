#:import MainScreen screens
#:import ScrollEffect kivy.effects.scroll.ScrollEffect


<MainButton@MDTextButton>
    color: app.theme_cls.primary_color
    font_size: sp(35)


<MainScreen>
    name: 'main_screen'
    md_bg_color: app.theme_cls.bg_light

    core: app

    MDFloatLayout:
        md_bg_color: root.md_bg_color if nav_drawer.state == 'close' else app.theme_cls.bg_dark

        MDTopAppBar:
            id: main_top_bar
            pos_hint: {'top': 1}
            type_height: 'small'
            md_bg_color: self.parent.md_bg_color
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
            elevation: 0


        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(5)
            pos_hint: {'center_x': .5, 'center_y': .5}
            adaptive_size: True

            MainButton:
                text: "Create image"
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'create_image_screen'

            MainButton:
                text: "Edit image"
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'edit_image_screen'

            MainButton:
                text: "Variable image"
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'variable_image_screen'

            MainButton:
                text: "Speech to text"
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'speech_to_text_screen'

            MainButton:
                text: "Chat gpt"
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'chat_gpt_screen'



        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)

            MDNavigationDrawerMenu:
                do_scroll_y: False

                MDNavigationDrawerHeader:
                    id: nav_drawer_header
                    title: root.email
                    title_font_size: '17sp'
                    text: str(root.credit) + ' credit'
                    source: root.avatar
                    spacing: dp(15)
                    padding: dp(10), 0, 0, dp(10)

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: "cog"
                    text: "Settings"
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.open_settings()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    id: collection
                    icon: 'image-multiple'
                    text: 'My Collection'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.open_collection()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: 'cash-100'
                    text: 'Buy Credits'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.open_buy_credits()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: 'hand-coin'
                    text: 'Earn Credits'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: "white"
                    on_release:
                        root.show_ads()

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: 'location-exit'
                    text: 'Logout'
                    theme_text_color: 'Custom'
                    text_color: 'white'
                    focus_color: app.theme_cls.primary_color
                    selected_color: 'white'
                    on_release:
                        root.exit()
















