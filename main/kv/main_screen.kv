#:import MainScreen main.screen
#:import ScrollEffect kivy.effects.scroll.ScrollEffect

<MainScreen>
    name: 'main_screen'

    MDRelativeLayout:
        orientation: 'vertical'

        MDTopAppBar:
            pos_hint: {'top': 1}
            specific_text_color: 'gray'
            type_height: 'small'
            md_bg_color: app.theme_cls.bg_dark
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
            elevation: 0

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(8)
            padding: dp(8)
            adaptive_size: True
            pos_hint: {'center_x': .5, 'center_y': .5}


            MDFillRoundFlatIconButton:
                icon: 'image'
                text: 'create image'
                font_size: sp(15)
                font_style: 'Button'
                theme_icon_color: 'Custom'
                md_bg_color: '#c462e5'
                icon_color: 'white'
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'create_image_screen'


            MDFillRoundFlatIconButton:
                icon: 'image-edit'
                text: 'edit image'
                font_style: 'Button'
                font_size: sp(15)
                theme_icon_color: 'Custom'
                md_bg_color: '#c462e5'
                icon_color: 'white'
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'edit_image_screen'


            MDFillRoundFlatIconButton:
                icon: 'image-sync'
                text: 'variable image'
                font_style: 'Button'
                font_size: sp(15)
                theme_icon_color: 'Custom'
                md_bg_color: '#c462e5'
                icon_color: 'white'
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'variable_image_screen'


            MDFillRoundFlatIconButton:
                icon: 'chat'
                text: 'chat'
                font_style: 'Button'
                font_size: sp(15)
                theme_icon_color: 'Custom'
                md_bg_color: '#c462e5'
                icon_color: 'white'
                on_release:
                    app.root.transition = MDSwapTransition()
                    app.root.current = 'chat_gpt_screen'

    MDNavigationLayout:

        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)

            MDNavigationDrawerMenu:

                MDNavigationDrawerHeader:
                    id: nav_drawer_header
                    title: "Text"
                    title_font_size: '17sp'
                    text: "User text"
                    source: "path"
                    spacing: dp(15)
                    padding: dp(10), 0, 0, dp(10)

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    icon: "account"
                    text: "profile"
                    on_release:
                        print('profile')

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    id: collection
                    icon: 'image-multiple'
                    text: 'MyCollection'
                    on_release:
                        screen = app.root.current
                        app.root.ids.collection_screen.ids.selection_list.back_item = ['arrow-left', lambda x: app.back(screen=screen)]
                        nav_drawer.set_state("close")
                        app.root.transition = MDSwapTransition()
                        app.root.current = 'collection_screen'















